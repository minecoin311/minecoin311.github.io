@use '../../scss/' as *;

.token-section { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }

/* 기본 네온 변수 — JS에서 style로 덮어씀 */
.token-section {
  --neon-hue: 190; /* fallback: 시안 */
  --neon-color: hsl(var(--neon-hue) 100% 55%);
  --neon-weak:  hsl(var(--neon-hue) 100% 55% / 0.18);
  --neon-weak2: hsl(var(--neon-hue) 100% 55% / 0.10);

  padding: 64px 0;
  background: #0b121a;
  color: #e8eef5;

  position: relative;
  isolation: isolate;

  /* 상단 네온 오라(아주 은은) */
  &::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background:
      radial-gradient(60rem 30rem at 50% 0%,
        var(--neon-weak), transparent 60%),
      radial-gradient(40rem 20rem at 30% 20%,
        var(--neon-weak2), transparent 70%);
    opacity: .55;
    transition: opacity .25s ease;
  }
  &.is-hot::after { opacity: .8; }

  .token-grid {
    display: grid;
    grid-template-areas:
      "header header"
      "legend chart";
    grid-template-columns: minmax(340px, 0.9fr) minmax(560px, 1.6fr);
    align-items: center;
    column-gap: 72px;
    row-gap: 28px;
    width: 100%;
  }

  .token-header      { grid-area: header; text-align: center; }
  .token-legend-wrap { grid-area: legend; }
  .token-chart       { grid-area: chart;  }

  .token-title  {
    font-size: 56px; line-height: 1.08; font-weight: 800; letter-spacing: .2px; margin-bottom: 10px;
    text-shadow: 0 0 12px color-mix(in oklab, var(--neon-color) 35%, transparent);
  }
  .token-note   { opacity: .86; max-width: 980px; margin: 0 auto 8px; }
  .token-supply { font-size: 24px; margin: 0;
    strong { font-weight: 900; letter-spacing: .1px; }
    .hl { color: var(--neon-color); font-weight: 900;
      text-shadow: 0 0 10px color-mix(in oklab, var(--neon-color) 45%, transparent);
    }
  }

  .token-legend {
    --legend-gap: 22px;
    list-style: none;
    padding: 8px 0;
    margin: 0 auto;
    min-width: 360px;
    width: min(720px, 100%);
    display: flex; flex-direction: column; gap: var(--legend-gap);
    text-align: left;

    li {
      display: flex; align-items: center;
      font-size: 22px; line-height: 1.6; letter-spacing: .2px;
      color: rgba(232,238,245,.66);
      transition: transform .15s ease, color .15s ease, opacity .15s ease;

      .dot { width: 16px; height: 16px; border-radius: 3px; margin-right: 12px;
             box-shadow: 0 0 0 1px rgba(255,255,255,.08) inset; }
      .label { font-weight: 700; }
      .sep   { color: rgba(232,238,245,.28); margin: 0 10px; }
      .value { color: #e8eef5; font-weight: 900; }

      &:hover, &.is-active {
        transform: translateX(2px);
        color: #fff;
        .dot { box-shadow: 0 0 0 1px rgba(255,255,255,.16) inset, 0 0 8px rgba(255,255,255,.08); transform: scale(1.06); }
      }
    }
  }

  .token-chart {
    width: 100%;
    max-width: 560px;
    margin: 0 auto;
    overflow: visible;
  }

  .center-top    { font-size: 16px; opacity: .78; }
  .center-strong { font-size: 22px; font-weight: 800; color: var(--neon-color); }

  @media (max-width: 1199px) {
    .token-grid {
      grid-template-areas:
        "header header"
        "legend chart";
      grid-template-columns: minmax(300px, 0.9fr) minmax(420px, 1.3fr);
      column-gap: 40px;
      row-gap: 24px;
      justify-items: center;
    }
    .token-legend { min-width: 300px; width: min(520px, 100%); margin: 0 auto; --legend-gap: 20px; }
    .token-legend-wrap, .token-chart { justify-self: center; }
    .token-chart  { max-width: 480px; }
  }

  @media (max-width: 900px) {
    .token-grid {
      grid-template-areas:
        "header header"
        "chart  chart"
        "legend legend";
      grid-template-columns: 1fr 1fr;
      column-gap: 24px;
      row-gap: 28px;
      justify-items: center;
    }
    .token-legend { min-width: 100%; width: 100%; margin: 0 auto; --legend-gap: 18px; }
    .token-chart  { max-width: 420px; }
  }

  @media (max-width: 767px) {
    .token-title  { font-size: 42px; }
    .token-supply { font-size: 20px; }
    .token-legend { --legend-gap: 16px; }
    .token-legend li { font-size: 18px; line-height: 1.5; }
    .token-chart  { max-width: 360px; }
  }
}

/* 재사용 ‘움직이는 연한 그리드’ 유틸 */
.grid-bg {
  position: relative;
  isolation: isolate;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background-image:
      linear-gradient(to right, rgba(30, 41, 59, 0.22) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(30, 41, 59, 0.22) 1px, transparent 1px);
    background-size: 40px 40px;
    background-position: 0 0;
    opacity: 0.12;
    animation: grid-pan 60s linear infinite;
    will-change: background-position;
  }

  > * { position: relative; z-index: 1; }
}
.grid-bg--neon::before {
  background-image:
    linear-gradient(to right, color-mix(in oklab, var(--neon-color) 25%, transparent) 1px, transparent 1px),
    linear-gradient(to bottom, color-mix(in oklab, var(--neon-color) 25%, transparent) 1px, transparent 1px);
  opacity: 0.16;
}
.grid-bg--fast::before { animation-duration: 25s; }
.grid-bg--left::before { animation-name: grid-pan-left; }

@keyframes grid-pan {
  0% { background-position: 0% 0%; }
  100% { background-position: 100% 100%; }
}
@keyframes grid-pan-left {
  0% { background-position: 0% 0%; }
  100% { background-position: -100% 0%; }
}

/* FAQ 섹션과의 간격 보정 (프로젝트 스타일과 충돌 시 !important 고려) */
section.tf-faq.tf-section {
  padding-top: 60px;
  padding-bottom: 60px;
}
