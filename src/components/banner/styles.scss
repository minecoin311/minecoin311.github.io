@use '../../scss/' as *;

.tf-slider {
  background: url('../../assets/images/OrcaXP/bg.png') center center no-repeat;
  background-size: cover;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.80);
    z-index: 0;
  }

  .bg-inner {
    position: absolute;
    inset: 0;
    z-index: 1;
    mix-blend-mode: overlay;
    pointer-events: none;
    animation: moveInner 15s ease infinite alternate;
    opacity: 0.85;
  }

  .container-fluid { position: relative; z-index: 2; }

  @keyframes moveInner {
    0%   { background-color: #f0f; }
    25%  { background-color: #0f0; }
    50%  { background-color: #00f; }
    75%  { background-color: rgb(255, 170, 0); }
    100% { background-color: #ff0; }
  }

  &.home2 {
    background: url('../../assets/images/slider/bg-slider-2.jpg') center center no-repeat;
    background-size: cover;
  }
  &.home3 {
    background: url('../../assets/images/slider/bg-slider-3.jpg') center center no-repeat;
    background-size: cover;
  }
}

.tf-slider-item {
  @include flexitem;
  padding: 50px 3% 50px 10.5%;

  @include desktop-1650 { padding: 50px 3% 50px 10.5%; }

  .content-inner {
    width: 50%;
    position: relative;
    padding-top: 80px;
    max-width: 800px;
    margin-right: 0;
    text-align: left; /* 데스크톱 기본 좌측 정렬 */

    .text-typing { display: flex; align-items: center; gap: 16px; }

    .heading {
      color: #fff;
      margin-bottom: 19px;
      &.mb0 { margin-bottom: 0; }
    }

    .animate-contain {
      height: 80px; overflow: hidden; text-align: left; margin-left: 20px;
    }

    .animated-text {
      display: inline-block;
      transition: 300ms all;
      margin-top: 0;
      animation: slide 5s infinite alternate ease-in-out;
      color: var(--primary-color5);
      height: 100%;
    }

    .animated-text span {
      display: block;
      font-size: 60px; font-weight: 400; height: 100%;
      display: flex; align-items: center;
      font-family: "Bakbak One", sans-serif;
      text-transform: uppercase;

      @include mobile { font-size: 50px; line-height: 60px; }
    }

    @keyframes slide {
      0% { margin-top: 0; } 20% { margin-top: 0; }
      40% { margin-top: -80px; } 60% { margin-top: -80px; }
      80% { margin-top: -160px; } 100% { margin-top: -160px; }
    }

    .sub-heading { color:#fff; font-size:20px; line-height:30px; margin-bottom:48px; }

    .tf-button {
      padding: 11px 24px; margin-right: 20px;
      @include w-402 { width: 70%; margin-right: 0; }
      &.style-2 { padding: 11px 22px; color: #fff; }
    }
  }

  .image {
    flex-grow: 1; width: 50%; display: flex;
    img { margin-right: 18px; border-radius: 12px; width: 33.33%; &:last-child{margin-right:0;} }
  }

  .content-right {
    .content-slide {
      @include flexitem;
      margin-left: 0; height: 480px; overflow: hidden; justify-content: center;
      .mr25 { margin-right: 25px; }

      .image {
        width: 1000px; max-width: 90%; border-radius: 20px; overflow: hidden;
        margin-left: 0; position: relative; overflow: hidden;

        img { position: static; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }

        &.s1 { width: 266px; }

        @keyframes fadeIn { 0%{opacity:0;} 40%{opacity:0;} 60%{opacity:1;} 100%{opacity:1;} }
        .fadeInClass {
          animation-name: fadeIn; animation-duration: 7s; animation-iteration-count: infinite;
          animation-direction: alternate; animation-timing-function: linear;
        }

        @include desktop-1650 { width: 90%; }
      }
    }
  }

  &.style-2 {
    padding: 493px 0 103px; text-align: center;
    .content-inner { width: 100%; max-width: unset; margin-right: 0; padding-top: 0; }
    .tf-button { &.style-2 { margin-right: 0; } }
  }

  &.style-3 {
    padding-top: 10px; padding-bottom: 138px;

    .content-inner {
      padding-top: 131px; margin-right: 163px;
      .sub-heading { margin-bottom: 25px; }

      .counter-wrap {
        margin-bottom: 47px; @include flexitem;

        .tf-counter {
          margin-right: 75px;
          .content { font-size: 44px; line-height: 56px; color:#fff; }
          h6 { font-family:'Poppins'; font-weight:400; font-size:16px; line-height:26px; color:#C2C3C5; }
          &:last-child { margin-right: 0; }
        }
      }
    }

    .image {
      display: unset; position: relative;
      img { margin-right: 0; width: unset; }
      .img { position: relative; z-index: 2; }
      .img-1,.img-2 { position: absolute; top:54%; left:70%; z-index:1; }
      .img-2 { left: 4%; top: 16%; }
    }
  }

  /* ≤1400px에서는 중앙 정렬 */
  @include desktop-1400 {
    flex-wrap: wrap;

    .content-inner {
      width: 90%; max-width: 90%;
      margin: 10px auto 30px auto;
      padding-top: 20px;
      text-align: center;

      .text-typing {
        display: inline-flex; align-items: center; justify-content: center;
        width: fit-content; margin: 0 auto 16px auto; gap: 16px;
      }
      .animate-contain { margin-left: 0; text-align: center; }
    }

    .content-right {
      width: 90%; margin: 0 auto;

      .content-slide {
        justify-content: center;
        .image { &:first-child { margin-left: 0; } }
        @include tablet { height: 330px; }
      }
    }
  }
}

/* slide-in 애니메이션 */
.tf-slider {
  position: relative;

  .swiper-slide {
    .heading, .sub-heading, .btn-slider, .counter-wrap, .animate-contain, .animated-text {
      opacity: 0; transform: translateY(200px);
    }
    .sub-heading { transform: translateY(300px); }
  }

  .swiper-slide-active {
    .heading, .sub-heading, .btn-slider, .counter-wrap, .animate-contain, .animated-text {
      opacity: 1; transform: translateY(0); transition-delay: 300ms; visibility: visible;
      -webkit-transition: transform 1000ms ease, opacity 1000ms ease;
      -moz-transition: transform 1000ms ease, opacity 1000ms ease;
      -ms-transition: transform 1000ms ease, opacity 1000ms ease;
      -o-transition: transform 1000ms ease, opacity 1000ms ease;
      transition: transform 1000ms ease, opacity 1000ms ease;
    }
    .sub-heading  { transition-delay: 700ms; }
    .counter-wrap { transition-delay: 850ms; }
    .btn-slider   { transition-delay: 1000ms; }
    .animated-text{ transition-delay: 1200ms; }
  }
}

/* 이미지 공통 */
.tf-slider .image { position: relative; overflow: hidden; }

/* 네온 블루 격자 */
.hologram::before {
  content: ''; position: absolute; inset: 0; pointer-events: none;
  background:
    linear-gradient(90deg, transparent 49%, rgba(0,247,255,0.3) 50%, transparent 51%),
    linear-gradient(0deg,  transparent 49%, rgba(0,247,255,0.3) 50%, transparent 51%);
  background-size: 10px 10px; mix-blend-mode: screen; opacity: 0.3;
}

/* 세로 스캔 라인 */
.hologram::after {
  content: ''; position: absolute; inset: 0; pointer-events: none;
  background: linear-gradient(
    to bottom,
    rgba(0,247,255,0) 0%,
    rgba(0,247,255,0.25) 49%,
    rgba(0,247,255,0.6) 50%,
    rgba(0,247,255,0.25) 51%,
    rgba(0,247,255,0) 100%
  );
  transform: translateY(-120%);
  animation: holo-scan-vert 15s linear infinite;
  mix-blend-mode: screen;
}

@keyframes holo-scan-vert {
  0% { transform: translateY(-120%); }
  33% { transform: translateY(120%); }
  66% { transform: translateY(120%); }
  100% { transform: translateY(-120%); }
}

/* 격자 배경 */
.tf-slider .tf-slider-item { position: relative; overflow: hidden; }
.tf-slider .tf-slider-item::before {
  content: ''; position: absolute; inset: 0; pointer-events: none; z-index: 0;
  background-image:
    linear-gradient(to right, #1e293b 1px, transparent 1px),
    linear-gradient(to bottom, #1e293b 1px, transparent 1px);
  background-size: 40px 40px; opacity: 0.2; animation: slider-grid-pan 60s linear infinite;
}
.tf-slider .tf-slider-item > * { position: relative; z-index: 1; }

@keyframes slider-grid-pan { 0% {background-position:0% 0%;} 100% {background-position:100% 100%;} }

.tf-slider .tf-slider-item.grid-neon::before {
  background-image:
    linear-gradient(to right, rgba(0, 247, 255, 0.25) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0, 247, 255, 0.25) 1px, transparent 1px);
  opacity: 0.25;
}
.tf-slider .tf-slider-item.grid-fast::before { animation-duration: 25s; }
.tf-slider .tf-slider-item.grid-left::before { animation-name: slider-grid-left; }

@keyframes slider-grid-left { 0% {background-position:0% 0%;} 100% {background-position:-100% 0%;} }

/* X 회전 애니메이션 */
@keyframes flipX {
  0%   { transform: rotateY(0deg); }
  20%  { transform: rotateY(360deg); }
  80%  { transform: rotateY(360deg); }
  100% { transform: rotateY(0deg); }
}

.js-flip-letter {
  display: inline-block;
  animation: flipX 5s ease-in-out infinite;
  transform-origin: center;
}

/* 모바일 전용 중앙 정렬 보강 */
@include mobile {
  .tf-slider-item {
    flex-direction: column;
    align-items: center;
    padding: 32px 16px;

    .content-inner {
      width: 100%;
      max-width: 640px;
      margin: 0 auto 16px auto;
      padding-top: 12px;
      text-align: center;

      .heading,
      .sub-heading,
      .animate-contain,
      .btn-slider {
        text-align: center;
        margin-left: auto;
        margin-right: auto;
      }

      .text-typing {
        display: grid !important;
        grid-auto-flow: column;
        justify-content: center;
        align-items: center;
        column-gap: 6px;
        width: max-content;
        margin: 0 auto 12px auto;
      }

      .animate-contain { margin-left: 0; }
      .text-typing .heading { margin: 0; line-height: 0.9; }
      .text-typing .animated-text { transform: translateY(1px); }
    }

    .content-right {
      width: 100%;
      margin: 12px auto 0 auto;

      .content-slide {
        height: auto;
        justify-content: center;

        .image {
          width: 100%;
          max-width: 560px;
          margin-left: 0;
        }
      }
    }
  }
}

@include tablet {
  .tf-slider-item .text-typing { gap: 8px; }
}

.slider-video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 20px;
  display: block;
}

/* ▼ 버튼 정렬 규칙
   - 기본(데스크톱): 제목과 같은 왼쪽 정렬
   - ≤1400px: 가운데 정렬
*/
.btn-slider {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
  justify-content: flex-start; /* 데스크톱: 왼쪽 */
  width: 100%;
  margin-top: 12px;
}

.brand-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  border-radius: 9999px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  color: #fff;
  font-weight: 700;
  text-decoration: none;
  transition: background .2s ease, border-color .2s ease, transform .2s ease;

  img { width: 20px; height: 20px; display: block; }

  &:hover {
    background: rgba(33,231,134,0.15);
    border-color: #21e786;
    transform: translateY(-2px);
  }
}

/* ≤1400px 에서는 버튼 가운데 정렬 */
@media (max-width: 1400px) {
  .btn-slider { justify-content: center; }
}

@media (max-width: 640px) {
  .btn-slider { gap: 10px; }
  .brand-btn { padding: 8px 12px; }
  .brand-btn img { width: 18px; height: 18px; }
}
/* ── Desktop spacing tuning: 큰 화면에서 제목 ↔ 버튼 간격 넉넉하게 */
@media (min-width: 1401px) {
  .tf-slider-item .content-inner .heading:not(.mb0) {
    margin-bottom: 28px;   /* 기본 19px → 28px */
  }
  .tf-slider-item .content-inner .btn-slider {
    margin-top: 28px;      /* 기본 12px → 28px */
    gap: 14px;             /* 버튼 간격도 살짝 여유 */
  }
}

/* 아주 넓은 화면(울트라와이드)에서는 한 번 더 여유 */
@media (min-width: 1800px) {
  .tf-slider-item .content-inner .heading:not(.mb0) { margin-bottom: 32px; }
  .tf-slider-item .content-inner .btn-slider { margin-top: 45px; gap: 16px; }
}
.animated-text span { white-space: pre; } // 공백을 그대로 표시

@include mobile {
  .tf-slider-item .heading {
    font-size: 45px;  // 원하는 크기
    line-height: 50px;
  }
}